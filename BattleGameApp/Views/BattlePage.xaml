<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:BattleGameApp.ViewModels"
             x:Class="BattleGameApp.Views.BattlePage"
             BackgroundColor="Black"
             Padding="10">

    <VerticalStackLayout Spacing="16">
        <Grid ColumnDefinitions="*,12,*" RowDefinitions="Auto" ColumnSpacing="12">
            <Border Grid.Column="0" StrokeShape="RoundRectangle 12" StrokeThickness="0" BackgroundColor="#222" Padding="10">
                <VerticalStackLayout HorizontalOptions="Center" Spacing="6">
                    <Label Text="TY" TextColor="LightGreen" FontAttributes="Bold" HorizontalOptions="Center"/>
                    <Image x:Name="PlayerImage" HeightRequest="120" WidthRequest="120" Aspect="AspectFit"/>
                    <Label x:Name="PlayerNameLabel" TextColor="White" FontSize="18" HorizontalOptions="Center"/>
                    <Label x:Name="PlayerHealthLabel" TextColor="LightGreen" FontSize="14" HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Border>

            <BoxView Grid.Column="1" WidthRequest="2" BackgroundColor="#333" VerticalOptions="Fill"/>

            <Border Grid.Column="2" StrokeShape="RoundRectangle 12" StrokeThickness="0" BackgroundColor="#222" Padding="10">
                <VerticalStackLayout HorizontalOptions="Center" Spacing="6">
                    <Label Text="PRZECIWNIK" TextColor="#EF9A9A" FontAttributes="Bold" HorizontalOptions="Center"/>
                    <Image x:Name="EnemyImage" HeightRequest="120" WidthRequest="120" Aspect="AspectFit"/>
                    <Label x:Name="EnemyNameLabel" TextColor="White" FontSize="18" HorizontalOptions="Center"/>
                    <Label x:Name="EnemyHealthLabel" TextColor="LightCoral" FontSize="14" HorizontalOptions="Center"/>
                </VerticalStackLayout>
            </Border>
        </Grid>

        <HorizontalStackLayout Spacing="12" HorizontalOptions="Center">
            <Button x:Name="RestartButton" Text="Nowa walka" Clicked="OnRestartClicked"
              BackgroundColor="#607D8B" TextColor="White" WidthRequest="140" HeightRequest="48" FontSize="16"/>
        </HorizontalStackLayout>

        <CollectionView
                    HeightRequest="220"
                    BackgroundColor="#111"
                    Margin="0,6,0,0"
                    ItemsSource="{Binding Logs}"
                    EmptyView="Logi z walki">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Label Text="{Binding .}" TextColor="White" FontSize="14" Margin="6,2"/>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </VerticalStackLayout>
</ContentPage>
